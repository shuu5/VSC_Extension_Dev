{
  "name": "VSCode Extension Development",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "vscode",
  "workspaceFolder": "/workspace",

  // VSCodeの設定
  "settings": {
    "terminal.integrated.defaultProfile.linux": "bash",
    "editor.formatOnSave": true,
    "typescript.tsdk": "node_modules/typescript/lib",
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": true
    }
  },

  // インストールする拡張機能
  "extensions": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-typescript-next",
    "ms-azuretools.vscode-docker",
    "ms-vscode.js-debug"
  ],

  // コンテナ作成後のコマンド実行
  "postCreateCommand": "npm install",

  // Docker in Dockerを有効にする
  "runArgs": [
    "--init"
  ],

  // ユーザーをroot以外に設定
  "remoteUser": "vscode"
} 